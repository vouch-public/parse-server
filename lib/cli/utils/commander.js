"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _commander = require("commander");
var _path = _interopRequireDefault(require("path"));
var _Deprecator = _interopRequireDefault(require("../../Deprecator/Deprecator"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/* eslint-disable no-console */

let _definitions;
let _reverseDefinitions;
let _defaults;
_commander.Command.prototype.loadDefinitions = function (definitions) {
  _definitions = definitions;
  Object.keys(definitions).reduce((program, opt) => {
    if (typeof definitions[opt] == 'object') {
      const additionalOptions = definitions[opt];
      if (additionalOptions.required === true) {
        return program.option(`--${opt} <${opt}>`, additionalOptions.help, additionalOptions.action);
      } else {
        return program.option(`--${opt} [${opt}]`, additionalOptions.help, additionalOptions.action);
      }
    }
    return program.option(`--${opt} [${opt}]`);
  }, this);
  _reverseDefinitions = Object.keys(definitions).reduce((object, key) => {
    let value = definitions[key];
    if (typeof value == 'object') {
      value = value.env;
    }
    if (value) {
      object[value] = key;
    }
    return object;
  }, {});
  _defaults = Object.keys(definitions).reduce((defs, opt) => {
    if (_definitions[opt].default !== undefined) {
      defs[opt] = _definitions[opt].default;
    }
    return defs;
  }, {});

  /* istanbul ignore next */
  this.on('--help', function () {
    console.log('  Configure From Environment:');
    console.log('');
    Object.keys(_reverseDefinitions).forEach(key => {
      console.log(`    $ ${key}='${_reverseDefinitions[key]}'`);
    });
    console.log('');
  });
};
function parseEnvironment(env = {}) {
  return Object.keys(_reverseDefinitions).reduce((options, key) => {
    if (env[key]) {
      const originalKey = _reverseDefinitions[key];
      let action = option => option;
      if (typeof _definitions[originalKey] === 'object') {
        action = _definitions[originalKey].action || action;
      }
      options[_reverseDefinitions[key]] = action(env[key]);
    }
    return options;
  }, {});
}
function parseConfigFile(program) {
  let options = {};
  if (program.args.length > 0) {
    let jsonPath = program.args[0];
    jsonPath = _path.default.resolve(jsonPath);
    const jsonConfig = require(jsonPath);
    if (jsonConfig.apps) {
      if (jsonConfig.apps.length > 1) {
        throw 'Multiple apps are not supported';
      }
      options = jsonConfig.apps[0];
    } else {
      options = jsonConfig;
    }
    Object.keys(options).forEach(key => {
      const value = options[key];
      if (!_definitions[key]) {
        throw `error: unknown option ${key}`;
      }
      const action = _definitions[key].action;
      if (action) {
        options[key] = action(value);
      }
    });
    console.log(`Configuration loaded from ${jsonPath}`);
  }
  return options;
}
_commander.Command.prototype.setValuesIfNeeded = function (options) {
  Object.keys(options).forEach(key => {
    if (!Object.prototype.hasOwnProperty.call(this, key)) {
      this[key] = options[key];
    }
  });
};
_commander.Command.prototype._parse = _commander.Command.prototype.parse;
_commander.Command.prototype.parse = function (args, env) {
  this._parse(args);
  // Parse the environment first
  const envOptions = parseEnvironment(env);
  const fromFile = parseConfigFile(this);
  // Load the env if not passed from command line
  this.setValuesIfNeeded(envOptions);
  // Load from file to override
  this.setValuesIfNeeded(fromFile);
  // Scan for deprecated Parse Server options
  _Deprecator.default.scanParseServerOptions(this);
  // Last set the defaults
  this.setValuesIfNeeded(_defaults);
};
_commander.Command.prototype.getOptions = function () {
  return Object.keys(_definitions).reduce((options, key) => {
    if (typeof this[key] !== 'undefined') {
      options[key] = this[key];
    }
    return options;
  }, {});
};
var _default = new _commander.Command();
/* eslint-enable no-console */
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGVmaW5pdGlvbnMiLCJfcmV2ZXJzZURlZmluaXRpb25zIiwiX2RlZmF1bHRzIiwiQ29tbWFuZCIsInByb3RvdHlwZSIsImxvYWREZWZpbml0aW9ucyIsImRlZmluaXRpb25zIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInByb2dyYW0iLCJvcHQiLCJhZGRpdGlvbmFsT3B0aW9ucyIsInJlcXVpcmVkIiwib3B0aW9uIiwiaGVscCIsImFjdGlvbiIsIm9iamVjdCIsImtleSIsInZhbHVlIiwiZW52IiwiZGVmcyIsImRlZmF1bHQiLCJ1bmRlZmluZWQiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJmb3JFYWNoIiwicGFyc2VFbnZpcm9ubWVudCIsIm9wdGlvbnMiLCJvcmlnaW5hbEtleSIsInBhcnNlQ29uZmlnRmlsZSIsImFyZ3MiLCJsZW5ndGgiLCJqc29uUGF0aCIsInBhdGgiLCJyZXNvbHZlIiwianNvbkNvbmZpZyIsInJlcXVpcmUiLCJhcHBzIiwic2V0VmFsdWVzSWZOZWVkZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfcGFyc2UiLCJwYXJzZSIsImVudk9wdGlvbnMiLCJmcm9tRmlsZSIsIkRlcHJlY2F0b3IiLCJzY2FuUGFyc2VTZXJ2ZXJPcHRpb25zIiwiZ2V0T3B0aW9ucyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGkvdXRpbHMvY29tbWFuZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICdjb21tYW5kZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgRGVwcmVjYXRvciBmcm9tICcuLi8uLi9EZXByZWNhdG9yL0RlcHJlY2F0b3InO1xuXG5sZXQgX2RlZmluaXRpb25zO1xubGV0IF9yZXZlcnNlRGVmaW5pdGlvbnM7XG5sZXQgX2RlZmF1bHRzO1xuXG5Db21tYW5kLnByb3RvdHlwZS5sb2FkRGVmaW5pdGlvbnMgPSBmdW5jdGlvbiAoZGVmaW5pdGlvbnMpIHtcbiAgX2RlZmluaXRpb25zID0gZGVmaW5pdGlvbnM7XG5cbiAgT2JqZWN0LmtleXMoZGVmaW5pdGlvbnMpLnJlZHVjZSgocHJvZ3JhbSwgb3B0KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uc1tvcHRdID09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBhZGRpdGlvbmFsT3B0aW9ucyA9IGRlZmluaXRpb25zW29wdF07XG4gICAgICBpZiAoYWRkaXRpb25hbE9wdGlvbnMucmVxdWlyZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHByb2dyYW0ub3B0aW9uKFxuICAgICAgICAgIGAtLSR7b3B0fSA8JHtvcHR9PmAsXG4gICAgICAgICAgYWRkaXRpb25hbE9wdGlvbnMuaGVscCxcbiAgICAgICAgICBhZGRpdGlvbmFsT3B0aW9ucy5hY3Rpb25cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwcm9ncmFtLm9wdGlvbihcbiAgICAgICAgICBgLS0ke29wdH0gWyR7b3B0fV1gLFxuICAgICAgICAgIGFkZGl0aW9uYWxPcHRpb25zLmhlbHAsXG4gICAgICAgICAgYWRkaXRpb25hbE9wdGlvbnMuYWN0aW9uXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtLm9wdGlvbihgLS0ke29wdH0gWyR7b3B0fV1gKTtcbiAgfSwgdGhpcyk7XG5cbiAgX3JldmVyc2VEZWZpbml0aW9ucyA9IE9iamVjdC5rZXlzKGRlZmluaXRpb25zKS5yZWR1Y2UoKG9iamVjdCwga2V5KSA9PiB7XG4gICAgbGV0IHZhbHVlID0gZGVmaW5pdGlvbnNba2V5XTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLmVudjtcbiAgICB9XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBvYmplY3RbdmFsdWVdID0ga2V5O1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9LCB7fSk7XG5cbiAgX2RlZmF1bHRzID0gT2JqZWN0LmtleXMoZGVmaW5pdGlvbnMpLnJlZHVjZSgoZGVmcywgb3B0KSA9PiB7XG4gICAgaWYgKF9kZWZpbml0aW9uc1tvcHRdLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVmc1tvcHRdID0gX2RlZmluaXRpb25zW29wdF0uZGVmYXVsdDtcbiAgICB9XG4gICAgcmV0dXJuIGRlZnM7XG4gIH0sIHt9KTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB0aGlzLm9uKCctLWhlbHAnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJyAgQ29uZmlndXJlIEZyb20gRW52aXJvbm1lbnQ6Jyk7XG4gICAgY29uc29sZS5sb2coJycpO1xuICAgIE9iamVjdC5rZXlzKF9yZXZlcnNlRGVmaW5pdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGAgICAgJCAke2tleX09JyR7X3JldmVyc2VEZWZpbml0aW9uc1trZXldfSdgKTtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnJyk7XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gcGFyc2VFbnZpcm9ubWVudChlbnYgPSB7fSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoX3JldmVyc2VEZWZpbml0aW9ucykucmVkdWNlKChvcHRpb25zLCBrZXkpID0+IHtcbiAgICBpZiAoZW52W2tleV0pIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsS2V5ID0gX3JldmVyc2VEZWZpbml0aW9uc1trZXldO1xuICAgICAgbGV0IGFjdGlvbiA9IG9wdGlvbiA9PiBvcHRpb247XG4gICAgICBpZiAodHlwZW9mIF9kZWZpbml0aW9uc1tvcmlnaW5hbEtleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGFjdGlvbiA9IF9kZWZpbml0aW9uc1tvcmlnaW5hbEtleV0uYWN0aW9uIHx8IGFjdGlvbjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnNbX3JldmVyc2VEZWZpbml0aW9uc1trZXldXSA9IGFjdGlvbihlbnZba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29uZmlnRmlsZShwcm9ncmFtKSB7XG4gIGxldCBvcHRpb25zID0ge307XG4gIGlmIChwcm9ncmFtLmFyZ3MubGVuZ3RoID4gMCkge1xuICAgIGxldCBqc29uUGF0aCA9IHByb2dyYW0uYXJnc1swXTtcbiAgICBqc29uUGF0aCA9IHBhdGgucmVzb2x2ZShqc29uUGF0aCk7XG4gICAgY29uc3QganNvbkNvbmZpZyA9IHJlcXVpcmUoanNvblBhdGgpO1xuICAgIGlmIChqc29uQ29uZmlnLmFwcHMpIHtcbiAgICAgIGlmIChqc29uQ29uZmlnLmFwcHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyAnTXVsdGlwbGUgYXBwcyBhcmUgbm90IHN1cHBvcnRlZCc7XG4gICAgICB9XG4gICAgICBvcHRpb25zID0ganNvbkNvbmZpZy5hcHBzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ganNvbkNvbmZpZztcbiAgICB9XG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW2tleV07XG4gICAgICBpZiAoIV9kZWZpbml0aW9uc1trZXldKSB7XG4gICAgICAgIHRocm93IGBlcnJvcjogdW5rbm93biBvcHRpb24gJHtrZXl9YDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFjdGlvbiA9IF9kZWZpbml0aW9uc1trZXldLmFjdGlvbjtcbiAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0gYWN0aW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhgQ29uZmlndXJhdGlvbiBsb2FkZWQgZnJvbSAke2pzb25QYXRofWApO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5Db21tYW5kLnByb3RvdHlwZS5zZXRWYWx1ZXNJZk5lZWRlZCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCBrZXkpKSB7XG4gICAgICB0aGlzW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgfVxuICB9KTtcbn07XG5cbkNvbW1hbmQucHJvdG90eXBlLl9wYXJzZSA9IENvbW1hbmQucHJvdG90eXBlLnBhcnNlO1xuXG5Db21tYW5kLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChhcmdzLCBlbnYpIHtcbiAgdGhpcy5fcGFyc2UoYXJncyk7XG4gIC8vIFBhcnNlIHRoZSBlbnZpcm9ubWVudCBmaXJzdFxuICBjb25zdCBlbnZPcHRpb25zID0gcGFyc2VFbnZpcm9ubWVudChlbnYpO1xuICBjb25zdCBmcm9tRmlsZSA9IHBhcnNlQ29uZmlnRmlsZSh0aGlzKTtcbiAgLy8gTG9hZCB0aGUgZW52IGlmIG5vdCBwYXNzZWQgZnJvbSBjb21tYW5kIGxpbmVcbiAgdGhpcy5zZXRWYWx1ZXNJZk5lZWRlZChlbnZPcHRpb25zKTtcbiAgLy8gTG9hZCBmcm9tIGZpbGUgdG8gb3ZlcnJpZGVcbiAgdGhpcy5zZXRWYWx1ZXNJZk5lZWRlZChmcm9tRmlsZSk7XG4gIC8vIFNjYW4gZm9yIGRlcHJlY2F0ZWQgUGFyc2UgU2VydmVyIG9wdGlvbnNcbiAgRGVwcmVjYXRvci5zY2FuUGFyc2VTZXJ2ZXJPcHRpb25zKHRoaXMpO1xuICAvLyBMYXN0IHNldCB0aGUgZGVmYXVsdHNcbiAgdGhpcy5zZXRWYWx1ZXNJZk5lZWRlZChfZGVmYXVsdHMpO1xufTtcblxuQ29tbWFuZC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKF9kZWZpbml0aW9ucykucmVkdWNlKChvcHRpb25zLCBrZXkpID0+IHtcbiAgICBpZiAodHlwZW9mIHRoaXNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnNba2V5XSA9IHRoaXNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH0sIHt9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDb21tYW5kKCk7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQXFEO0FBSHJEOztBQUtBLElBQUlBLFlBQVk7QUFDaEIsSUFBSUMsbUJBQW1CO0FBQ3ZCLElBQUlDLFNBQVM7QUFFYkMsa0JBQU8sQ0FBQ0MsU0FBUyxDQUFDQyxlQUFlLEdBQUcsVUFBVUMsV0FBVyxFQUFFO0VBQ3pETixZQUFZLEdBQUdNLFdBQVc7RUFFMUJDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDRixXQUFXLENBQUMsQ0FBQ0csTUFBTSxDQUFDLENBQUNDLE9BQU8sRUFBRUMsR0FBRyxLQUFLO0lBQ2hELElBQUksT0FBT0wsV0FBVyxDQUFDSyxHQUFHLENBQUMsSUFBSSxRQUFRLEVBQUU7TUFDdkMsTUFBTUMsaUJBQWlCLEdBQUdOLFdBQVcsQ0FBQ0ssR0FBRyxDQUFDO01BQzFDLElBQUlDLGlCQUFpQixDQUFDQyxRQUFRLEtBQUssSUFBSSxFQUFFO1FBQ3ZDLE9BQU9ILE9BQU8sQ0FBQ0ksTUFBTSxDQUNsQixLQUFJSCxHQUFJLEtBQUlBLEdBQUksR0FBRSxFQUNuQkMsaUJBQWlCLENBQUNHLElBQUksRUFDdEJILGlCQUFpQixDQUFDSSxNQUFNLENBQ3pCO01BQ0gsQ0FBQyxNQUFNO1FBQ0wsT0FBT04sT0FBTyxDQUFDSSxNQUFNLENBQ2xCLEtBQUlILEdBQUksS0FBSUEsR0FBSSxHQUFFLEVBQ25CQyxpQkFBaUIsQ0FBQ0csSUFBSSxFQUN0QkgsaUJBQWlCLENBQUNJLE1BQU0sQ0FDekI7TUFDSDtJQUNGO0lBQ0EsT0FBT04sT0FBTyxDQUFDSSxNQUFNLENBQUUsS0FBSUgsR0FBSSxLQUFJQSxHQUFJLEdBQUUsQ0FB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