"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.DefaultMongoURI = void 0;
var _parsers = require("./Options/parsers");
const {
  ParseServerOptions
} = require('./Options/Definitions');
const logsFolder = (() => {
  let folder = './logs/';
  if (typeof process !== 'undefined' && process.env.TESTING === '1') {
    folder = './test_logs/';
  }
  if (process.env.PARSE_SERVER_LOGS_FOLDER) {
    folder = (0, _parsers.nullParser)(process.env.PARSE_SERVER_LOGS_FOLDER);
  }
  return folder;
})();
const {
  verbose,
  level
} = (() => {
  const verbose = process.env.VERBOSE ? true : false;
  return {
    verbose,
    level: verbose ? 'verbose' : undefined
  };
})();
const DefinitionDefaults = Object.keys(ParseServerOptions).reduce((memo, key) => {
  const def = ParseServerOptions[key];
  if (Object.prototype.hasOwnProperty.call(def, 'default')) {
    memo[key] = def.default;
  }
  return memo;
}, {});
const computedDefaults = {
  jsonLogs: process.env.JSON_LOGS || false,
  logsFolder,
  verbose,
  level
};
var _default = Object.assign({}, DefinitionDefaults, computedDefaults);
exports.default = _default;
const DefaultMongoURI = DefinitionDefaults.databaseURI;
exports.DefaultMongoURI = DefaultMongoURI;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFyc2VycyIsInJlcXVpcmUiLCJQYXJzZVNlcnZlck9wdGlvbnMiLCJsb2dzRm9sZGVyIiwiZm9sZGVyIiwicHJvY2VzcyIsImVudiIsIlRFU1RJTkciLCJQQVJTRV9TRVJWRVJfTE9HU19GT0xERVIiLCJudWxsUGFyc2VyIiwidmVyYm9zZSIsImxldmVsIiwiVkVSQk9TRSIsInVuZGVmaW5lZCIsIkRlZmluaXRpb25EZWZhdWx0cyIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJtZW1vIiwia2V5IiwiZGVmIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVmYXVsdCIsImNvbXB1dGVkRGVmYXVsdHMiLCJqc29uTG9ncyIsIkpTT05fTE9HUyIsIl9kZWZhdWx0IiwiYXNzaWduIiwiZXhwb3J0cyIsIkRlZmF1bHRNb25nb1VSSSIsImRhdGFiYXNlVVJJIl0sInNvdXJjZXMiOlsiLi4vc3JjL2RlZmF1bHRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG51bGxQYXJzZXIgfSBmcm9tICcuL09wdGlvbnMvcGFyc2Vycyc7XG5jb25zdCB7IFBhcnNlU2VydmVyT3B0aW9ucyB9ID0gcmVxdWlyZSgnLi9PcHRpb25zL0RlZmluaXRpb25zJyk7XG5jb25zdCBsb2dzRm9sZGVyID0gKCgpID0+IHtcbiAgbGV0IGZvbGRlciA9ICcuL2xvZ3MvJztcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5URVNUSU5HID09PSAnMScpIHtcbiAgICBmb2xkZXIgPSAnLi90ZXN0X2xvZ3MvJztcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuUEFSU0VfU0VSVkVSX0xPR1NfRk9MREVSKSB7XG4gICAgZm9sZGVyID0gbnVsbFBhcnNlcihwcm9jZXNzLmVudi5QQVJTRV9TRVJWRVJfTE9HU19GT0xERVIpO1xuICB9XG4gIHJldHVybiBmb2xkZXI7XG59KSgpO1xuXG5jb25zdCB7IHZlcmJvc2UsIGxldmVsIH0gPSAoKCkgPT4ge1xuICBjb25zdCB2ZXJib3NlID0gcHJvY2Vzcy5lbnYuVkVSQk9TRSA/IHRydWUgOiBmYWxzZTtcbiAgcmV0dXJuIHsgdmVyYm9zZSwgbGV2ZWw6IHZlcmJvc2UgPyAndmVyYm9zZScgOiB1bmRlZmluZWQgfTtcbn0pKCk7XG5cbmNvbnN0IERlZmluaXRpb25EZWZhdWx0cyA9IE9iamVjdC5rZXlzKFBhcnNlU2VydmVyT3B0aW9ucykucmVkdWNlKChtZW1vLCBrZXkpID0+IHtcbiAgY29uc3QgZGVmID0gUGFyc2VTZXJ2ZXJPcHRpb25zW2tleV07XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVmLCAnZGVmYXVsdCcpKSB7XG4gICAgbWVtb1trZXldID0gZGVmLmRlZmF1bHQ7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59LCB7fSk7XG5cbmNvbnN0IGNvbXB1dGVkRGVmYXVsdHMgPSB7XG4gIGpzb25Mb2dzOiBwcm9jZXNzLmVudi5KU09OX0xPR1MgfHwgZmFsc2UsXG4gIGxvZ3NGb2xkZXIsXG4gIHZlcmJvc2UsXG4gIGxldmVsLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbih7fSwgRGVmaW5pdGlvbkRlZmF1bHRzLCBjb21wdXRlZERlZmF1bHRzKTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0TW9uZ29VUkkgPSBEZWZpbml0aW9uRGVmYXVsdHMuZGF0YWJhc2VVUkk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLE1BQU07RUFBRUM7QUFBbUIsQ0FBQyxHQUFHRCxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDL0QsTUFBTUUsVUFBVSxHQUFHLENBQUMsTUFBTTtFQUN4QixJQUFJQyxNQUFNLEdBQUcsU0FBUztFQUN0QixJQUFJLE9BQU9DLE9BQU8sS0FBSyxXQUFXLElBQUlBLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxPQUFPLEtBQUssR0FBRyxFQUFFO0lBQ2pFSCxNQUFNLEdBQUcsY0FBYztFQUN6QjtFQUNBLElBQUlDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSx3QkFBd0IsRUFBRTtJQUN4Q0osTUFBTSxHQUFHLElBQUFLLG1CQUFVLEVBQUNKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSx3QkFBd0IsQ0FBQztFQUMzRDtFQUNBLE9BQU9KLE1BQU07QUFDZixDQUFDLEdBQUc7QUFFSixNQUFNO0VBQUVNLE9BQU87RUFBRUM7QUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNO0VBQ2hDLE1BQU1ELE9BQU8sR0FBR0wsT0FBTyxDQUFDQyxHQUFHLENBQUNNLE9BQU8sR0FBRyxJQUFJLEdBQUcsS0FBSztFQUNsRCxPQUFPO0lBQUVGLE9BQU87SUFBRUMsS0FBSyxFQUFFRCxPQUFPLEdBQUcsU0FBUyxHQUFHRztFQUFVLENBQUM7QUFDNUQsQ0FBQyxHQUFHO0FBRUosTUFBTUMsa0JBQWtCLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDZCxrQkFBa0IsQ0FBQyxDQUFDZSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxFQUFFQyxHQUFHLEtBQUs7RUFDL0UsTUFBTUMsR0FBRyxHQUFHbEIsa0JBQWtCLENBQUNpQixHQUFHLENBQUM7RUFDbkMsSUFBSUosTUFBTSxDQUFDTSxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDSCxHQUFHLEVBQUUsU0FBUyxDQUFDLEVBQUU7SUFDeERGLElBQUksQ0FBQ0MsR0FBRyxDQUFDLEdBQUdDLEdBQUcsQ0FBQ0ksT0FBTztFQUN6QjtFQUNBLE9BQU9OLElBQUk7QUFDYixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFFTixNQUFNTyxnQkFBZ0IsR0FBRztFQUN2QkMsUUFBUSxFQUFFckIsT0FBTyxDQUFDQyxHQUFHLENBQUNxQixTQUFTLElBQUksS0FBSztFQUN4Q3hCLFVBQVU7RUFDVk8sT0FBTztFQUNQQztBQUNGLENBQUM7QUFBQyxJQUFBaUIsUUFBQSxHQUVhYixNQUFNLENBQUNjLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRWYsa0JBQWtCLEVBQUVXLGdCQUFnQixDQUFDO0FBQUFLLE9BQUEsQ0FBQU4sT0FBQSxHQUFBSSxRQUFBO0FBQy9ELE1BQU1HLGVBQWUsR0FBR2pCLGtCQUFrQixDQUFDa0IsV0FBVztBQUFDRixPQUFBLENBQUFDLGVBQUEsR0FBQUEsZUFBQSJ9