"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LRUCache = void 0;
var _lruCache = _interopRequireDefault(require("lru-cache"));
var _defaults = _interopRequireDefault(require("../../defaults"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class LRUCache {
  constructor({
    ttl = _defaults.default.cacheTTL,
    maxSize = _defaults.default.cacheMaxSize
  }) {
    this.cache = new _lruCache.default({
      max: maxSize,
      ttl
    });
  }
  get(key) {
    return this.cache.get(key) || null;
  }
  put(key, value, ttl = this.ttl) {
    this.cache.set(key, value, ttl);
  }
  del(key) {
    this.cache.delete(key);
  }
  clear() {
    this.cache.clear();
  }
}
exports.LRUCache = LRUCache;
var _default = LRUCache;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbHJ1Q2FjaGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kZWZhdWx0cyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiTFJVQ2FjaGUiLCJjb25zdHJ1Y3RvciIsInR0bCIsImRlZmF1bHRzIiwiY2FjaGVUVEwiLCJtYXhTaXplIiwiY2FjaGVNYXhTaXplIiwiY2FjaGUiLCJMUlUiLCJtYXgiLCJnZXQiLCJrZXkiLCJwdXQiLCJ2YWx1ZSIsInNldCIsImRlbCIsImRlbGV0ZSIsImNsZWFyIiwiZXhwb3J0cyIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL0FkYXB0ZXJzL0NhY2hlL0xSVUNhY2hlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMUlUgZnJvbSAnbHJ1LWNhY2hlJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi8uLi9kZWZhdWx0cyc7XG5cbmV4cG9ydCBjbGFzcyBMUlVDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKHsgdHRsID0gZGVmYXVsdHMuY2FjaGVUVEwsIG1heFNpemUgPSBkZWZhdWx0cy5jYWNoZU1heFNpemUgfSkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTFJVKHtcbiAgICAgIG1heDogbWF4U2l6ZSxcbiAgICAgIHR0bCxcbiAgICB9KTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5nZXQoa2V5KSB8fCBudWxsO1xuICB9XG5cbiAgcHV0KGtleSwgdmFsdWUsIHR0bCA9IHRoaXMudHRsKSB7XG4gICAgdGhpcy5jYWNoZS5zZXQoa2V5LCB2YWx1ZSwgdHRsKTtcbiAgfVxuXG4gIGRlbChrZXkpIHtcbiAgICB0aGlzLmNhY2hlLmRlbGV0ZShrZXkpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExSVUNhY2hlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFL0IsTUFBTUcsUUFBUSxDQUFDO0VBQ3BCQyxXQUFXQSxDQUFDO0lBQUVDLEdBQUcsR0FBR0MsaUJBQVEsQ0FBQ0MsUUFBUTtJQUFFQyxPQUFPLEdBQUdGLGlCQUFRLENBQUNHO0VBQWEsQ0FBQyxFQUFFO0lBQ3hFLElBQUksQ0FBQ0MsS0FBSyxHQUFHLElBQUlDLGlCQUFHLENBQUM7TUFDbkJDLEdBQUcsRUFBRUosT0FBTztNQUNaSDtJQUNGLENBQUMsQ0FBQztFQUNKO0VBRUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRTtJQUNQLE9BQU8sSUFBSSxDQUFDSixLQUFLLENBQUNHLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLElBQUksSUFBSTtFQUNwQztFQUVBQyxHQUFHQSxDQUFDRCxHQUFHLEVBQUVFLEtBQUssRUFBRVgsR0FBRyxHQUFHLElBQUksQ0FBQ0EsR0FBRyxFQUFFO0lBQzlCLElBQUksQ0FBQ0ssS0FBSyxDQUFDTyxHQUFHLENBQUNILEdBQUcsRUFBRUUsS0FBSyxFQUFFWCxHQUFHLENBQUM7RUFDakM7RUFFQWEsR0FBR0EsQ0FBQ0osR0FBRyxFQUFFO0lBQ1AsSUFBSSxDQUFDSixLQUFLLENBQUNTLE1BQU0sQ0FBQ0wsR0FBRyxDQUFDO0VBQ3hCO0VBRUFNLEtBQUtBLENBQUEsRUFBRztJQUNOLElBQUksQ0FBQ1YsS0FBSyxDQUFDVSxLQUFLLEVBQUU7RUFDcEI7QUFDRjtBQUFDQyxPQUFBLENBQUFsQixRQUFBLEdBQUFBLFFBQUE7QUFBQSxJQUFBbUIsUUFBQSxHQUVjbkIsUUFBUTtBQUFBa0IsT0FBQSxDQUFBbkIsT0FBQSxHQUFBb0IsUUFBQSJ9